#include <stdio.h>
//全局变量与局部变量

int i=10;//全局变量

void print(int a)//形参可以看成一个局部变量
{
    printf("I am print i=%d\n",i);

}

int main(void)
{
    {
        int j=5;
    }//作用域只在所在的函数或代码块内，出了这个范围就不存在了。(局部变量只在离自己最近的大括号内有效)
    int i=5;//局部变量与全局变量重名（采用就近原则）
    printf("main i=%d\n",i);//i=5
    //printf("main i=%d\n",j);
    //j的已经不存在了
    for (int k=0;k<-1;)//for循环括号内定义的变量，循环体外不可使用
    {

    }
    //printf("k=%d\n",k);
    //k也是用不了的（k不可使用）
    print(5);//i=10
    return 0;
}
/*
使用建议
局部变量优先：减少副作用，函数更独立。
全局变量谨慎使用：容易被多个函数修改，调试困难。
（可以用 static 限制全局变量的作用域在当前文件）
*/


/*
🔹 1. 定义位置不同
全局变量：定义在所有函数外部（通常在文件开头）。
局部变量：定义在函数或代码块 {} 内部。

#include <stdio.h>
int g = 10; // 全局变量
void func() {
    int l = 5; // 局部变量
    printf("局部变量 l = %d\n", l);
    printf("全局变量 g = %d\n", g);
}

🔹 2. 作用域（Scope）
全局变量：作用域是整个文件，从定义处开始到文件结束。
局部变量：作用域只在所在的函数或代码块内，出了这个范围就不存在了。

void test() {
    int a = 10; // 只能在 test 内使用
}

🔹 3. 生命周期（Lifetime）
全局变量：存储在 静态存储区，程序运行期间一直存在。
局部变量：存储在 栈区，函数调用时创建，函数结束时销毁。

🔹 4. 存储位置
全局变量 → 静态存储区（和 static 变量一样）。
局部变量 → 栈（自动分配和释放）。

🔹 5. 默认初始值
全局变量：默认会被初始化为 0（如果没有赋值）。
局部变量：不会自动初始化，值是随机的垃圾值。

#include <stdio.h>
int g; // 默认值 0
int main() {
    int l; // 未初始化，值不确定
    printf("全局变量 g = %d\n", g); // 0
    printf("局部变量 l = %d\n", l); // 随机值
    return 0;
}

🔹 6. 命名冲突
如果 局部变量和全局变量同名，在局部作用域内，局部变量会覆盖全局变量。

#include <stdio.h>
int x = 100; // 全局变量
int main() {
    int x = 10; // 局部变量，屏蔽全局变量
    printf("%d\n", x); // 输出 10
    return 0;
}

 */